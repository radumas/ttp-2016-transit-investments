<html>
	<head>
		<title>The Transport Politic - Transit Explorer 2016</title>
		
		<!-- our app's stylesheets -->
		<link href="styles.css" rel="stylesheet" />
		<link href="css/structure.css" rel="stylesheet">
		<link href="css/form.css" rel="stylesheet">
		
		<!-- Other stylesheets -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="http://code.ionicframework.com/ionicons/1.5.2/css/ionicons.min.css">
		<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700,300italic|Archivo+Narrow:400,700' rel='stylesheet' type='text/css'>
		
		<!-- Leaflet styles -->
		<link rel="stylesheet" href="css/leaflet.awesome-markers.css">
		<link rel="stylesheet" href="src/leaflet-search.css">
		<link rel="stylesheet" href="leaflet_plugins/MarkerCluster.css">
		<link rel="stylesheet" href="leaflet_plugins/MarkerCluster.Default.css">
		<link rel="stylesheet" href="leaflet_plugins/leaflet.fusesearch.css">
		<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
				
		<!-- Scripts too important to go before </body> -->
		<script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
	</head>
	
	<body>
		<div class="container">
			<div id="map"></div>
		</div>
		
		<script>
			
			cities = [
					{
					    "name": "Atlanta",
				        "lat": 33.75,
				        "lng": -84.39
				    },
					{
					    "name": "Boston",
				        "lat": 42.36,
				        "lng": -71.06
				    },
					{
					    "name": "Calgary",
				        "lat": 51.05,
				        "lng": -114.07
				    },
				    {
					    "name": "Charlotte",
				        "lat": 35.23,
				        "lng": -80.84
				    },
					{
					    "name": "Chicago",
				        "lat": 41.88,
				        "lng": -87.63
				    },
					{
					    "name": "Cincinnati",
				        "lat": 39.1,
				        "lng": -84.51
				    },
				    {
					    "name": "Columbus",
				        "lat": 39.96,
				        "lng": -83
				    },
					{
					    "name": "Dallas",
				        "lat": 32.78,
				        "lng": -96.8
				    },
					{
					    "name": "Detroit",
				        "lat": 42.33,
				        "lng": -83.05
				    },
				     {
					    "name": "Denver",
				        "lat": 39.8,
				        "lng": -105
				    },
				    {
					    "name": "Edmonton",
				        "lat": 53.54,
				        "lng": -113.49
				    },
				    {
					    "name": "Grand Rapids",
				        "lat": 42.96,
				        "lng": -85.67
				    },
				    {
					    "name": "Guadalajara",
				        "lat": 20.66,
				        "lng": -103.35
				    },
				    {
					    "name": "Honolulu",
				        "lat": 21.31,
				        "lng": -157.86
				    },
				    {
					    "name": "Houston",
				        "lat": 29.76,
				        "lng": -95.37
				    },
				    {
					    "name": "Indianapolis",
				        "lat": 39.77,
				        "lng": -86.16
				    },
				    {
					    "name": "Kansas City",
				        "lat": 39.1,
				        "lng": -94.58
				    },
				    {
					    "name": "Los Angeles",
				        "lat": 34,
				        "lng": -118
				    },
				     {
					    "name": "Mexico City",
				        "lat": 19.4,
				        "lng": -99.1
				    },
				    {
					    "name": "Miami",
				        "lat": 25.76,
				        "lng": -80.19
				    },
				    {
					    "name": "Minneapolis",
				        "lat": 44.98,
				        "lng": -93.27
				    },
				    {
					    "name": "Monterrey",
				        "lat": 25.69,
				        "lng": -100.32
				    },
				    {
					    "name": "Montreal",
				        "lat": 45.5,
				        "lng": -73.57
				    },    
				     {
					    "name": "New Orleans",
				        "lat": 29.95,
				        "lng": -90.07
				    },
				     {
					    "name": "New York City",
				        "lat": 40.7,
				        "lng": -74
				    },
				    {
					    "name": "Oklahoma City",
				        "lat": 35.47,
				        "lng": -97.52
				    },
				    {
					    "name": "Orlando",
				        "lat": 28.54,
				        "lng": -81.38
				    },
				    {
					    "name": "Ottawa",
				        "lat": 45.42,
				        "lng": -75.7
				    },
				    {
					    "name": "Philadelphia",
				        "lat": 39.95,
				        "lng": -75.17
				    },
				    {
					    "name": "Phoenix",
				        "lat": 33.45,
				        "lng": -112.07
				    },
				    {
					    "name": "Portland",
				        "lat": 45.52,
				        "lng": -122.68
				    },
				    {
					    "name": "San Diego",
				        "lat": 32.72,
				        "lng": -117.16
				    },    
				    {
					    "name": "San Francisco",
				        "lat": 37.77,
				        "lng": -122.42
				    },
				    {
					    "name": "San Jose",
				        "lat": 37.34,
				        "lng": -121.89
				    },
				    {
					    "name": "San Juan",
				        "lat": 18.44,
				        "lng": -66.06
				    },
				    {
					    "name": "Seattle",
				        "lat": 47.6,
				        "lng": -122.3
				    },
				    {
					    "name": "Toronto",
				        "lat": 43.7,
				        "lng": -79.4
				    },
				    {
					    "name": "Triangle (NC)",
				        "lat": 35.88,
				        "lng": -78.79
				    },
				    {
					    "name": "Vancouver",
				        "lat": 49.28,
				        "lng": -123.12
				    },
				    {
					    "name": "Washington",
				        "lat": 38.91,
				        "lng": -77.04
				    },
				    {
					    "name": "Winnipeg",
				        "lat": 49.9,
				        "lng": -97.14
				    },
				];
			
			$(document).ready(function() { 
				makeMap(); 
				
				layers = [
					{
						"file": "map_data/projects_funded_ns_lines.geojson",
						"layerId": "projects_funded_lines",
						"name": "Funded/New Starts Projects (Lines)",
						"type": "lines",
						"status": "funded",
						"zoomRange": [10,99]
					},
					{
						"file": "map_data/projects_funded_points.geojson",
						"layerId": "projects_funded_points",
						"name": "Funded Projects (Stations)",
						"type": "stations",
						"status": "funded"
					},
					{
						"file": "map_data/projects_construction_lines.geojson",
						"layerId": "projects_construction_lines",
						"name": "Under Construction (Lines)",
						"type": "lines",
						"status": "under_construction",
						"zoomRange": [10,99]
					},
					{
						"file": "map_data/projects_construction_points.geojson",
						"layerId": "projects_construction_points",
						"name": "Under Construction (Stations)",
						"type": "stations",
						"status": "under_construction"
					},
					{
						"file": "map_data/projects_future_lines.geojson",
						"layerId": "projects_future_lines",
						"name": "Future Lines",
						"type": "lines",
						"status": "future",
						"zoomRange": [10,99]
					},
					{
						"file": "map_data/projects_future_points.geojson",
						"layerId": "projects_future_points",
						"name": "Future Stations",
						"type": "stations",
						"status": "future"
					},
					{
						"file": "map_data/projects_renovations_lines.geojson",
						"layerId": "projects_renovations_lines",
						"name": "Renovating Lines",
						"type": "lines",
						"status": "renovating",
						"zoomRange": [10,99]
					},
					{
						"file": "map_data/projects_renovations_points.geojson",
						"layerId": "projects_renovations_stations",
						"name": "Renovating Stations",
						"type": "stations",
						"status": "renovating"
					},
					{
						"file": "map_data/us_can_transit.geojson",
						"layerId": "existing_lines",
						"name": "Existing fixed-guideway transit",
						"type": "lines",
						"status": "existing",
						"zoomRange": [10,99]
					},
					{
						"file": "map_data/existing_transit_stops.geojson",
						"layerId": "existing_transit_stops",
						"name": "Existing stations",
						"type": "stations_existing",
						"status": "existing",
						"zoomRange": [14,99]
					}
				];
			
				processLayers(layers);
				selectKeyCity();
				selectBaseMap();
			});			
		</script>

		<!-- The banner -->
		<div class="top-nav">
			<div class="container">
				<a href="http://www.thetransportpolitic.com/" target="_self">
					<img src="http://www.thetransportpolitic.com/wp-content/themes/atahualpa/images/New-Logo.jpg" alt="The Transport Politic" width="220" border="0">
				</a>
			</div>
		</div>

		<div class="left-mid">
			<h1>Transit Explorer</h1>
			<h2>Discover current, planned, and potential fixed-guideway transit systems in North America.</h2>
			<table width="100%" border="0" valign="top">
			<tr>
			<td width="30%" valign="top">
			<h5>
			<svg height="5" width="36"><line x1="0" y1="0" x2="36" y2="0" style="stroke:rgb(33,102,172);stroke-width:10" /></svg> Rail<br>
			<svg height="5" width="36"><line x1="0" y1="0" x2="36" y2="0" style="stroke:rgb(178,24,43);stroke-width:10" /></svg> Bus 
			</h5>
			</td>
			<td width="70%" valign="top">
			<h5>
			<svg height="5" width="18"><line x1="0" y1="0" x2="18" y2="0" style="stroke:rgb(33,102,172);stroke-width:10" /></svg> 
			<svg height="5" width="18"><line x1="0" y1="0" x2="18" y2="0" style="stroke:rgb(178,24,43);stroke-width:10" /></svg> Under construction<br>
			<svg height="5" width="40"><line x1="0" y1="0" x2="39" y2="0" style="stroke:rgb(186,180,224);stroke-width:10" /></svg> Under renovation<br>
			<svg height="6" width="18"><line x1="0" y1="3" x2="30" y2="3" style="stroke:rgb(33,102,172);stroke-width:5;stroke-dasharray:1,8;stroke-linecap:round" /></svg> 
			<svg height="6" width="18"><line x1="0" y1="3" x2="30" y2="3" style="stroke:rgb(178,24,43);stroke-width:5;stroke-dasharray:1,8;stroke-linecap:round" /></svg> Planned<br>
			<svg height="5" width="18"><line x1="0" y1="0" x2="30" y2="0" style="stroke:rgb(33,102,172);stroke-width:10;stroke-dasharray:5,3,3,3" /></svg> 
			<svg height="5" width="18"><line x1="0" y1="0" x2="30" y2="0" style="stroke:rgb(178,24,43);stroke-width:10;stroke-dasharray:5,3,3,3" /></svg> Proposed
			</h5>
			</td></tr></table>
			
			<!-- Insert the "zoom to a key city" here -->
			<div id="key_city" class="region"></div>
			
			<!-- Insert the "change base layer" here -->
			<div id="baselayers" class="region"></div>

			<h3><a href="#" onclick="$('#more').slideToggle();">More information about this page</a>. Follow transport news and analysis on <a href="http://www.thetransportpolitic.com" target="_self">The Transport Politic</a>. <a href="#" onclick="$('div#err').slideToggle();">Find an error?</a></h3>
			
			<div id="err" style="display:none;">
			
				<!-- Wufoo form -->
				<form id="form1" name="form1" class="wufoo topLabel page" accept-charset="UTF-8" autocomplete="off" enctype="multipart/form-data" method="post" novalidate
				      action="https://yfreemark.wufoo.com/forms/z11qhl9e0tdbgax/#public"><h3>
				<input id="Field1" name="Field1" type="email" spellcheck="false" class="field text large" value="Email (not required)" maxlength="255" tabindex="1"       />
				<input id="Field2" name="Field2" type="text" class="field text large" value="What&#039;s wrong or missing?" maxlength="500" tabindex="2" onkeyup="validateRange(2, 'character');"       required />
				
				<input id="saveForm" name="saveForm" class="btTxt submit"
				    type="submit" value="Submit" />
				
				<ul>
				<li class="hide">
				<label for="comment">Do Not Fill This Out</label>
				<textarea name="comment" id="comment" rows="1" cols="1"></textarea>
				<input type="hidden" id="idstamp" name="idstamp" value="/5EUlRa6ZFujVoDaGAbPyvKCP0ycsg265BoKFtWt4cY=" />
				</li>
				</ul>
				</h3>
				</form>
			</div>
			
<h4>A <a href="http://www.yonahfreemark.com">Yonah Freemark</a> / <a href="http://stevencanplan.com">Steven Vance</a> production, 2016.</h4>
			 <a href="mailto:?Subject=Transit Explorer 2016: The Transport Politic&amp;Body=I%20saw%20this%20and%20thought%20of%20you!%20 http://www.thetransportpolitic.com/transitexplorer">
	        <img src="images/email.png" width="40" alt="Email" /></a>
	        <a href="http://www.facebook.com/sharer.php?u=http://www.thetransportpolitic.com/transitexplorer" target="_blank">
	        <img src="images/facebook.png" width="40" alt="Facebook" /></a>
	        <a href="http://www.linkedin.com/shareArticle?mini=true&amp;url=http://www.thetransportpolitic.com/transitexplorer" target="_blank">
	        <img src="images/linkedin.png" width="40" alt="LinkedIn" /></a>
	        <a href="https://twitter.com/share?url=http://www.thetransportpolitic.com/transitexplorer&amp;text=Transit%20Explorer:%20The%20Transport%20Politic&amp" target="_blank">
	        <img src="images/twitter.png" width="40" alt="Twitter" /></a>
	
			</div>
			
			<div class="over" id="more" style="display:none;">
			<div align="right">
			<a href="#" onclick="$('#more').slideToggle();" style="text-decoration:none"><font color="000000" face="Open Sans, sans serif" size="5"><b>&#9746;</b></font></a></div>
			<h2>This page provides information on fixed-guideway transit projects across North America, up to date as of January 2016. Please report any errors to <a href="mailto:info@thetransportpolitic.com">info@thetransportpolitic.com</a> or using the form on the left by clicking "Find an error?"</h2>
			<h3>Sources:
			<ul>
			<li>Baseline data on existing U.S. transit systems from the U.S. <a href="http://www.rita.dot.gov/bts/sites/rita.dot.gov.bts/files/publications/national_transportation_atlas_database/2015/polyline">Bureau of Transportation Statistics</a>.</li>
			<li>Existing Canadian and Mexican transit lines from Open Street Map.</li>
			<li>New York City Subway, Metro-North Railroad, and Long Island Rail Road from <a href="https://www.baruch.cuny.edu/confluence/display/geoportal/NYC+Mass+Transit+Spatial+Layers">Baruch College</a>.
			</ul>
			Note: "Regions" defined for each project do not denote municipality or even state. They denote the metropolitan area in which the project exists or is planned.
			<a href="#" onclick="$('#more').slideToggle();">Close window</a></h3>
		</div><!-- /left-mid -->
		
		<div class="mobile-key"></div>
		
		<!-- Scripts should go right before the closing body tag so they don't obstruct page loading performance -->
		<script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
		<script src="scripts/wufoo.js"></script>
		<script src="js/fuse.min.js"></script>
		
		<!-- Leaflet plugins -->

		<!-- <script src="src/leaflet-search.js"></script> -->
		<script src="js/leaflet.awesome-markers.js"></script>
		<script src="leaflet_plugins/leaflet.markercluster.js"></script>
		<script src="leaflet_plugins/leaflet.fusesearch.js"></script>
		
		<!-- Our app scripts -->
		<script src="functions.js"></script>
		<script src="app.js"></script>
		
	</body>
</html>